(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[136],{858:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]])},1355:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},3419:(e,t,a)=>{"use strict";a.d(t,{$:()=>l});var s=a(7876);a(4232);var r=a(9241);let l=e=>{let{variant:t="default",size:a="md",className:l="",children:n,...i}=e;return(0,s.jsx)("button",{className:(0,r.$)("inline-flex items-center justify-center font-medium rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{default:"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700 shadow-lg shadow-blue-500/25 focus:ring-blue-500",outline:"border-2 border-slate-300 text-slate-700 bg-white/60 backdrop-blur-sm hover:bg-slate-50 hover:border-slate-400 focus:ring-slate-500",ghost:"text-slate-600 hover:text-slate-900 hover:bg-slate-100 focus:ring-slate-500",destructive:"bg-gradient-to-r from-red-500 to-red-600 text-white hover:from-red-600 hover:to-red-700 shadow-lg shadow-red-500/25 focus:ring-red-500"}[t],{sm:"px-3 py-2 text-sm",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3 text-base"}[a],l),...i,children:n})}},4208:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>L});var s=a(7876),r=a(858),l=a(2572),n=a(7963);let i=(0,n.A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var o=a(3305),c=a(8725);let d=(0,n.A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),u=(0,n.A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),m=(0,n.A)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),h=(0,n.A)("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);var x=a(4041);let p=(0,n.A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),b=(0,n.A)("PoundSterling",[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]]);var f=a(1355);let g=(0,n.A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),N=(0,n.A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),y=(0,n.A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),v=(0,n.A)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);var j=a(9844),w=a(8230),k=a.n(w),S=a(9099),A=a(4232),C=a(333),_=a(3419),M=a(7677),T=a(8950);let E="true"===a(5364).env.DEMO_MODE,D=[{id:"agent_d5f8f1de63bbd10c9d023b8137",name:"Donavan outreach"}];function L(){let e=(0,S.useRouter)(),[t,a]=(0,A.useState)(!1),[n,w]=(0,A.useState)(!1),[L,O]=(0,A.useState)(!1),[R,I]=(0,A.useState)(!1),[W,q]=(0,A.useState)(null),[z,P]=(0,A.useState)(null),[B,Z]=(0,A.useState)(!1),[J,U]=(0,A.useState)({firstName:"David",lastName:"Jones",email:"davidjones@example.com",phoneNumber:"+447700900123",pronunciation:"Day-Vid",companyName:"Quantum Automations",leadSource:"facebook advert",lastTouchDate:new Date().toISOString().slice(0,10),intent:"buy",area:"South West London",budget:"\xa3650,000",notesSnippet:"relocating for work, prefers garden",officeNumberReadable:"020 7946 0123"}),[F,H]=(0,A.useState)({}),V=D[0];(0,A.useEffect)(()=>{try{if(window.localStorage.getItem("demo:booking-confirmed"))return void e.replace("/demo#book")}catch(e){}(0,T.Eq)().catch(()=>{});let t=()=>w(!0),s=()=>{w(!1),a(!1)},r=()=>{w(!1),a(!1)};return(0,T.on)("call_started",t),(0,T.on)("call_ended",s),(0,T.on)("error",r),()=>{(0,T.AU)("call_started",t),(0,T.AU)("call_ended",s),(0,T.AU)("error",r)}},[]),(0,A.useEffect)(()=>{try{let e=window.localStorage.getItem("test-calls:form");if(e){let t=JSON.parse(e);U(t)}let t=window.localStorage.getItem("test-calls:advancedOpen");t&&I(JSON.parse(t))}catch(e){}},[]),(0,A.useEffect)(()=>{try{window.localStorage.setItem("test-calls:form",JSON.stringify(J))}catch(e){}},[J]),(0,A.useEffect)(()=>{try{window.localStorage.setItem("test-calls:advancedOpen",JSON.stringify(R))}catch(e){}},[R]);let $=(e,t)=>{U(a=>{let s={...a,[e]:t};return"firstName"!==e||B||(s.pronunciation=t),s}),"pronunciation"===e&&Z(!0),F[e]&&H(t=>({...t,[e]:void 0}))},Q=async e=>{let t={firstName:J.firstName,lastName:J.lastName,email:J.email,phoneNumber:J.phoneNumber,pronunciation:J.pronunciation,companyName:J.companyName,leadSource:J.leadSource,lastTouchDate:J.lastTouchDate,intent:J.intent,area:J.area,budget:J.budget,notesSnippet:J.notesSnippet,officeNumberReadable:J.officeNumberReadable},a=new Date().toLocaleString("en-GB",{timeZone:"Europe/London",weekday:"short",hour:"2-digit",minute:"2-digit"}),s={agent_id:e,metadata:{customerName:"".concat(t.firstName," ").concat(t.lastName),firstName:t.firstName,email:t.email,phoneNumber:t.phoneNumber,pronunciation:t.pronunciation,companyName:t.companyName},retell_llm_dynamic_variables:{first_name:t.firstName,last_name:t.lastName,invitee_email:t.email,invitee_phone:t.phoneNumber,pronunciation:t.pronunciation,company_name:t.companyName,lead_source:t.leadSource,last_touch_date:t.lastTouchDate,intent:t.intent,area:t.area,budget:t.budget,notes_snippet:t.notesSnippet,office_number_readable:t.officeNumberReadable,"current_time_Europe/London":a}},r=async e=>{let t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!t.ok)throw Error(String(t.status));return t.json()};try{try{return await r("/api/retell-create-web-call")}catch(e){try{return await r("/.netlify/functions/retell-create-web-call")}catch(t){let e="".concat(window.location.protocol,"//localhost:8888");return await r("".concat(e,"/api/retell-create-web-call"))}}}catch(e){throw e}},X=async()=>{if(n){try{await (0,T.Lb)()}catch(e){}return}if((()=>{let e={};return J.firstName.trim()||(e.firstName="First name is required"),J.email.trim()||(e.email="Email is required"),J.phoneNumber.trim()||(e.phoneNumber="Phone is required"),H(e),0===Object.keys(e).length})())try{P({type:"info",message:"Starting web call…"}),a(!0);let e=await Q(V.id);e.access_token&&(await (0,T.t3)({accessToken:e.access_token,sampleRate:24e3,captureDeviceId:"default",emitRawAudioSamples:!1}),P({type:"success",message:"Web call started."}))}catch(t){let e=t instanceof Error?t.message:"Unknown error";P({type:"error",message:"Web call failed: ".concat(e)}),a(!1)}},G=()=>{U({firstName:"David",lastName:"Jones",email:"davidjones@example.com",phoneNumber:"+447700900123",pronunciation:"Day-Vid",companyName:"Quantum Automations",leadSource:"facebook advert",lastTouchDate:new Date().toISOString().slice(0,10),intent:"buy",area:"South West London",budget:"\xa3650,000",notesSnippet:"relocating for work, prefers garden",officeNumberReadable:"020 7946 0123"}),H({}),Z(!1)},K=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:!0});q(!0),e.getTracks().forEach(e=>e.stop())}catch(e){q(!1)}};return(0,s.jsx)(C.A,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[n&&(0,s.jsx)("div",{className:"fixed bottom-6 right-6 z-50",children:(0,s.jsxs)(_.$,{onClick:()=>(0,T.Lb)(),className:"bg-red-600 hover:bg-red-700 text-white shadow-xl shadow-red-500/30 flex items-center gap-3 px-5 py-3 text-base rounded-xl",children:[(0,s.jsx)(r.A,{className:"h-5 w-5"}),"End Call"]})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(k(),{href:"/test-calls",className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-slate-900 text-white hover:bg-slate-800",children:"Web Call Test"}),(0,s.jsx)(k(),{href:{pathname:"/book-demo",query:{name:J.firstName,email:J.email}},className:"px-3 py-1.5 rounded-lg text-sm font-medium border border-slate-300 text-slate-700 hover:bg-slate-50",children:"Book Demo"})]}),(0,s.jsx)("div",{className:"rounded-xl border border-slate-200 bg-white p-5",children:(0,s.jsxs)("div",{className:"flex items-center gap-6 flex-wrap",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-7 w-7 rounded-full bg-blue-600 text-white text-xs flex items-center justify-center",children:"1"}),(0,s.jsx)("span",{className:"text-base font-semibold text-slate-900",children:"Enter contact basics"})]}),(0,s.jsx)("span",{className:"text-slate-300",children:"→"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-7 w-7 rounded-full bg-slate-200 text-slate-700 text-xs flex items-center justify-center",children:"2"}),(0,s.jsx)("span",{className:"text-base font-semibold text-slate-900",children:"Advanced (optional)"})]}),(0,s.jsx)("span",{className:"text-slate-300",children:"→"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-7 w-7 rounded-full bg-slate-200 text-slate-700 text-xs flex items-center justify-center",children:"3"}),(0,s.jsx)("span",{className:"text-base font-semibold text-slate-900",children:"Start web call"})]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-stretch",children:[(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)(M.Zp,{className:"h-full",children:[(0,s.jsxs)(M.aR,{children:[(0,s.jsxs)(M.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(l.A,{className:"h-5 w-5"}),"Customer Details"]}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Customize the info sent into the agent’s variables"})]}),(0,s.jsxs)(M.Wu,{className:"space-y-4",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"First Name *"}),(0,s.jsx)("input",{type:"text",value:J.firstName,onChange:e=>$("firstName",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(F.firstName?"border-red-300 bg-red-50":"border-slate-300"),placeholder:"David"}),F.firstName&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:F.firstName})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-slate-700 mb-1 flex items-center gap-1",children:[(0,s.jsx)(i,{className:"h-4 w-4"}),"Email *"]}),(0,s.jsx)("input",{type:"email",value:J.email,onChange:e=>$("email",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(F.email?"border-red-300 bg-red-50":"border-slate-300"),placeholder:"davidjones@example.com"}),F.email&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:F.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-slate-700 mb-1 flex items-center gap-1",children:[(0,s.jsx)(o.A,{className:"h-4 w-4"}),"Phone *"]}),(0,s.jsx)("input",{type:"text",value:J.phoneNumber,onChange:e=>$("phoneNumber",e.target.value),onBlur:()=>{U(e=>({...e,phoneNumber:(e=>{let t=e.trim();if(!t)return t;let a=t.replace(/[^0-9+]/g,"");if(a.startsWith("00"))return"+"+a.slice(2);if(a.startsWith("+"))return a;let s=a.replace(/[^0-9]/g,"");return s?"+"+s:""})(e.phoneNumber)}))},className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(F.phoneNumber?"border-red-300 bg-red-50":"border-slate-300"),placeholder:"+44 7700 900123"}),F.phoneNumber&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:F.phoneNumber})]})]}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsxs)("button",{type:"button",onClick:()=>I(e=>!e),className:"inline-flex items-center gap-2 text-sm font-medium text-blue-700 hover:text-blue-900",children:[R?(0,s.jsx)(c.A,{className:"h-4 w-4"}):(0,s.jsx)(d,{className:"h-4 w-4"}),"Advanced variables",(0,s.jsx)("span",{className:"ml-2 text-slate-500",title:"All variables are pulled from the database and some are generated at run time (like pronunciation).",children:(0,s.jsx)(u,{className:"inline h-4 w-4"})})]})}),R&&(0,s.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Last Name"}),(0,s.jsx)("input",{type:"text",value:J.lastName,onChange:e=>$("lastName",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-slate-300",placeholder:"Jones"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-slate-700 mb-1 flex items-center gap-1",children:[(0,s.jsx)(m,{className:"h-4 w-4"}),"Company"]}),(0,s.jsx)("input",{type:"text",value:J.companyName,onChange:e=>$("companyName",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-slate-300",placeholder:"Quantum Automations"}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Calling from (company name)"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-slate-700 mb-1 flex items-center gap-1",children:[(0,s.jsx)(h,{className:"h-4 w-4"}),"Pronunciation"]}),(0,s.jsx)("input",{type:"text",value:J.pronunciation,onChange:e=>$("pronunciation",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-slate-300",placeholder:"Day-Vid"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-slate-700 mb-1 flex items-center gap-1",children:[(0,s.jsx)(u,{className:"h-4 w-4"}),"Lead Source"]}),(0,s.jsx)("input",{type:"text",value:J.leadSource,onChange:e=>$("leadSource",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-slate-300",placeholder:"facebook advert"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-slate-700 mb-1 flex items-center gap-1",children:[(0,s.jsx)(x.A,{className:"h-4 w-4"}),"Last Touch Date"]}),(0,s.jsx)("input",{type:"date",value:J.lastTouchDate,onChange:e=>$("lastTouchDate",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-slate-300"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-slate-700 mb-1 flex items-center gap-1",children:[(0,s.jsx)(u,{className:"h-4 w-4"}),"Intent"]}),(0,s.jsxs)("select",{value:J.intent,onChange:e=>$("intent",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-slate-300",children:[(0,s.jsx)("option",{value:"buy",children:"buy"}),(0,s.jsx)("option",{value:"sell",children:"sell"}),(0,s.jsx)("option",{value:"both",children:"both"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-slate-700 mb-1 flex items-center gap-1",children:[(0,s.jsx)(p,{className:"h-4 w-4"}),"Area"]}),(0,s.jsx)("input",{type:"text",value:J.area,onChange:e=>$("area",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-slate-300",placeholder:"e.g. South West London"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-slate-700 mb-1 flex items-center gap-1",children:[(0,s.jsx)(b,{className:"h-4 w-4"}),"Budget"]}),(0,s.jsx)("input",{type:"text",value:J.budget,onChange:e=>$("budget",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-slate-300",placeholder:"\xa3650,000"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-slate-700 mb-1 flex items-center gap-1",children:[(0,s.jsx)(f.A,{className:"h-4 w-4"}),"Personal Notes"]}),(0,s.jsx)("textarea",{value:J.notesSnippet,onChange:e=>$("notesSnippet",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-slate-300",rows:3,placeholder:"relocating for work, needs garden"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-slate-700 mb-1 flex items-center gap-1",children:[(0,s.jsx)(o.A,{className:"h-4 w-4"}),"Office Number (spoken)"]}),(0,s.jsx)("input",{type:"text",value:J.officeNumberReadable,onChange:e=>$("officeNumberReadable",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-slate-300",placeholder:"020 7946 0123"})]})]}),(0,s.jsx)("div",{className:"flex gap-2",children:(0,s.jsxs)(_.$,{onClick:G,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[(0,s.jsx)(g,{className:"h-4 w-4"}),"Reset Form"]})})]})]})}),(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)(M.Zp,{className:"h-full",children:[(0,s.jsx)(M.aR,{children:(0,s.jsxs)(M.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(N,{className:"h-5 w-5"}),"Execute Web Call Test"]})}),(0,s.jsxs)(M.Wu,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,s.jsx)("button",{type:"button",onClick:K,className:"px-2.5 py-1.5 border border-slate-300 rounded-md hover:bg-slate-50",children:"Check microphone"}),null===W&&(0,s.jsx)("span",{className:"text-slate-500",children:"Mic status: unknown"}),!0===W&&(0,s.jsx)("span",{className:"text-emerald-700",children:"Mic ready"}),!1===W&&(0,s.jsx)("span",{className:"text-red-600",children:"Mic permission needed"})]}),(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsxs)(_.$,{onClick:()=>X(),disabled:t||!L,className:"flex items-center gap-2 px-5 py-3 text-base rounded-xl",children:[t?(0,s.jsx)(y,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(v,{className:"h-4 w-4"}),t?"Creating Web Call...":"Start Web Call Test"]})}),(0,s.jsxs)("div",{className:"flex items-start gap-2 text-sm text-slate-600 mt-2",children:[(0,s.jsx)("input",{id:"privacy-consent",type:"checkbox",className:"mt-0.5 h-4 w-4",checked:L,onChange:e=>O(e.target.checked)}),(0,s.jsx)("label",{htmlFor:"privacy-consent",children:"I understand this demo sends my inputs to the AI agent for this session only. No data is persisted by the dashboard."})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-sm mt-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{G(),O(!0),P({type:"info",message:"Sample contact applied."})},className:"text-blue-700 hover:text-blue-900",children:"Use sample contact"}),(0,s.jsx)("span",{className:"text-slate-300",children:"•"}),(0,s.jsx)("button",{type:"button",onClick:()=>{try{let e=window.localStorage.getItem("test-calls:form");if(e){let t=JSON.parse(e);U(t),O(!0),P({type:"info",message:"Last details loaded."})}else P({type:"error",message:"No saved details found."})}catch(e){P({type:"error",message:"Could not load saved details."})}},className:"text-blue-700 hover:text-blue-900",children:"Use last details"})]}),z&&(0,s.jsx)("div",{className:"text-sm rounded-md px-3 py-2 ".concat("error"===z.type?"bg-red-50 text-red-700 border border-red-200":"success"===z.type?"bg-emerald-50 text-emerald-700 border border-emerald-200":"bg-slate-50 text-slate-700 border border-slate-200"),children:z.message})]})]})})]}),(0,s.jsxs)(M.Zp,{children:[(0,s.jsx)(M.aR,{children:(0,s.jsxs)(M.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(j.A,{className:"h-5 w-5"}),"AI Agent: ",V.name]})}),(0,s.jsxs)(M.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,s.jsx)(v,{className:"h-8 w-8 text-blue-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-slate-900",children:V.name}),(0,s.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:"Outreach"}),!E&&(0,s.jsx)("span",{className:"ml-2 px-2 py-1 text-xs rounded-full bg-red-100 text-red-800",children:"LIVE"})]})]}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Agent receives all variables above as context."})]}),(0,s.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-medium text-slate-900",children:"Web Call Test Details"}),(0,s.jsxs)("ul",{className:"mt-2 text-sm text-slate-600 list-disc pl-5 space-y-1",children:[(0,s.jsxs)("li",{children:["Agent: ",V.name]}),(0,s.jsx)("li",{children:"Audio: 24 kHz sample rate"}),(0,s.jsx)("li",{children:"Device: Browser microphone"}),(0,s.jsx)("li",{children:E?"Cost: Free in demo mode":"Live mode: usage billed by Retell AI"})]})]})]})]})]})})}},5364:(e,t,a)=>{"use strict";var s,r;e.exports=(null==(s=a.g.process)?void 0:s.env)&&"object"==typeof(null==(r=a.g.process)?void 0:r.env)?a.g.process:a(5861)},5861:e=>{!function(){var t={229:function(e){var t,a,s,r=e.exports={};function l(){throw Error("setTimeout has not been defined")}function n(){throw Error("clearTimeout has not been defined")}try{t="function"==typeof setTimeout?setTimeout:l}catch(e){t=l}try{a="function"==typeof clearTimeout?clearTimeout:n}catch(e){a=n}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===l||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(a){try{return t.call(null,e,0)}catch(a){return t.call(this,e,0)}}}var o=[],c=!1,d=-1;function u(){c&&s&&(c=!1,s.length?o=s.concat(o):d=-1,o.length&&m())}function m(){if(!c){var e=i(u);c=!0;for(var t=o.length;t;){for(s=o,o=[];++d<t;)s&&s[d].run();d=-1,t=o.length}s=null,c=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===n||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function x(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];o.push(new h(e,t)),1!==o.length||c||i(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=x,r.addListener=x,r.once=x,r.off=x,r.removeListener=x,r.removeAllListeners=x,r.emit=x,r.prependListener=x,r.prependOnceListener=x,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}}},a={};function s(e){var r=a[e];if(void 0!==r)return r.exports;var l=a[e]={exports:{}},n=!0;try{t[e](l,l.exports,s),n=!1}finally{n&&delete a[e]}return l.exports}s.ab="//",e.exports=s(229)}()},7372:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/test-calls",function(){return a(4208)}])},7677:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>i,ZB:()=>n,Zp:()=>r,aR:()=>l});var s=a(7876);a(4232);let r=e=>{let{children:t,className:a=""}=e;return(0,s.jsx)("div",{className:"bg-white/60 backdrop-blur-xl rounded-2xl border border-slate-200/50 shadow-sm ".concat(a),children:t})},l=e=>{let{children:t,className:a=""}=e;return(0,s.jsx)("div",{className:"p-6 border-b border-slate-200/50 ".concat(a),children:t})},n=e=>{let{children:t,className:a=""}=e;return(0,s.jsx)("h3",{className:"text-lg font-semibold text-slate-900 ".concat(a),children:t})},i=e=>{let{children:t,className:a=""}=e;return(0,s.jsx)("div",{className:"p-6 ".concat(a),children:t})}},8950:(e,t,a)=>{"use strict";a.d(t,{AU:()=>m,Eq:()=>i,Lb:()=>d,on:()=>u,t3:()=>c,z0:()=>o});let s=null,r={call_started:new Set,call_ended:new Set,error:new Set,update:new Set,metadata:new Set},l=!1,n=!1;async function i(){if(s)return s;if(l)return new Promise(e=>{let t=setInterval(()=>{s&&(clearInterval(t),e(s))},50)});l=!0;let{RetellWebClient:e}=await Promise.all([a.e(456),a.e(422)]).then(a.bind(a,3313));return(s=new e).on("call_started",()=>{n=!0,r.call_started.forEach(e=>e())}),s.on("call_ended",()=>{n=!1,r.call_ended.forEach(e=>e())}),s.on("error",e=>{n=!1,r.error.forEach(t=>t(e))}),s.on("update",e=>{r.update.forEach(t=>t(e))}),s.on("metadata",e=>{r.metadata.forEach(t=>t(e))}),window.retellWebClient=s,l=!1,s}function o(){return n}async function c(e){let t=await i();if(!t)throw Error("Retell client unavailable");await t.startCall(e)}async function d(){let e=await i();if(e)try{e.stopCall()}catch(e){}}function u(e,t){r[e].add(t)}function m(e,t){r[e].delete(t)}},9241:(e,t,a)=>{"use strict";function s(){for(var e,t,a=0,s="",r=arguments.length;a<r;a++)(e=arguments[a])&&(t=function e(t){var a,s,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var l=t.length;for(a=0;a<l;a++)t[a]&&(s=e(t[a]))&&(r&&(r+=" "),r+=s)}else for(s in t)t[s]&&(r&&(r+=" "),r+=s);return r}(e))&&(s&&(s+=" "),s+=t);return s}a.d(t,{$:()=>s,A:()=>r});let r=s}},e=>{e.O(0,[367,333,636,593,792],()=>e(e.s=7372)),_N_E=e.O()}]);