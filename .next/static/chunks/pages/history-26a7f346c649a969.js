(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[272],{1540:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/history",function(){return a(3936)}])},3441:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},3936:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var s=a(7876),l=a(3441),n=a(9435),o=a(9247),r=a(4232),c=a(333),i=a(6065);let d=()=>{let[e,t]=(0,r.useState)([]),[a,d]=(0,r.useState)([]),[m,u]=(0,r.useState)(""),[x,h]=(0,r.useState)("all"),[p,g]=(0,r.useState)("all"),[b,w]=(0,r.useState)(!1),[f,j]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=(()=>{let e=(0,i.zr)(),t=(0,i.v3)(),a=[],s=(0,i.gl)(50),l=new Set;for(let e=0;e<50;e++){let t="Contact ".concat(String.fromCharCode(65+e%15));.2>Math.random()&&l.add(t)}for(let n=0;n<50;n++){let o;e[n%e.length];let r="Contact ".concat(String.fromCharCode(65+n%15));if(l.has(r)&&n<3)o=t.callOutcomes.find(e=>"meeting booked"===e.name.toLowerCase());else{let e=t.callOutcomes.filter(e=>"meeting booked"!==e.name.toLowerCase());o=e[Math.floor(Math.random()*e.length)]}o||(o=t.callOutcomes[0]),a.push({id:"call-".concat(n+1),phoneNumber:"+44 7XXX XXX".concat(String(n%15+1).padStart(3,"0")),customer:r,agent:"AI Assistant ".concat(String.fromCharCode(65+n%3)),outcome:o.name,duration:(0,i.kE)(o.name),date:s[n]||new Date(Date.now()-60*Math.random()*864e5).toISOString(),notes:"Contact was responsive and showed interest in the service offering."})}return a.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())})();t(e),d(e),j(!1)},[]),r.useEffect(()=>{let t=e;m&&(t=t.filter(e=>{var t,a,s;return(null==(t=e.customer)?void 0:t.toLowerCase().includes(m.toLowerCase()))||(null==(a=e.phoneNumber)?void 0:a.includes(m))||(null==(s=e.agent)?void 0:s.toLowerCase().includes(m.toLowerCase()))})),"all"!==x&&(t=t.filter(e=>e.outcome===x)),"all"!==p&&(t=t.filter(e=>e.agent===p)),d(t)},[m,x,p,e]);let N=[...new Set(e.map(e=>e.outcome))],v=[...new Set(e.map(e=>e.agent))];return f?(0,s.jsx)(c.A,{children:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,s.jsx)("div",{className:"text-lg text-slate-600",children:"Loading call history..."})})}):(0,s.jsx)(c.A,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Call History"}),(0,s.jsxs)("p",{className:"text-slate-600",children:[a.length," of ",e.length," calls"]})]}),(0,s.jsx)("div",{className:"flex gap-2",children:(0,s.jsxs)("button",{onClick:()=>w(!b),className:"flex items-center gap-2 px-4 py-2 bg-white/60 backdrop-blur-xl border border-slate-200/50 rounded-xl hover:bg-white/80 transition-all duration-200",children:[(0,s.jsx)(l.A,{className:"w-4 h-4"}),"Filters"]})})]}),(0,s.jsx)("div",{className:"bg-white/60 backdrop-blur-xl rounded-2xl p-6 border border-slate-200/50",children:(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(n.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Search by customer, phone, or agent...",value:m,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/80 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]}),b&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-slate-200",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Outcome"}),(0,s.jsxs)("select",{value:x,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 bg-white/80 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20",children:[(0,s.jsx)("option",{value:"all",children:"All Outcomes"}),N.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Agent"}),(0,s.jsxs)("select",{value:p,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 bg-white/80 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20",children:[(0,s.jsx)("option",{value:"all",children:"All Agents"}),v.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]})]})]})}),(0,s.jsxs)("div",{className:"bg-white/60 backdrop-blur-xl rounded-2xl border border-slate-200/50 overflow-hidden",children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-slate-50/80 border-b border-slate-200/50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Contact"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Phone"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Agent"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Outcome"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Duration"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-slate-200/50",children:a.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-white/40 transition-colors duration-150",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"font-medium text-slate-900",children:e.customer})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:e.phoneNumber}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:e.agent}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"px-2 py-1 rounded-lg text-xs font-medium ".concat((e=>{switch(e.toLowerCase()){case"meeting booked":return"bg-emerald-500 text-white";case"callback requested":return"bg-blue-500 text-white";case"voicemail":return"bg-amber-500 text-white";case"not interested":return"bg-red-500 text-white";case"customer ended call":return"bg-slate-500 text-white";case"failed to connect":return"bg-red-400 text-white";case"no answer":return"bg-slate-400 text-white";case"test call":return"bg-purple-500 text-white";default:return"bg-slate-300 text-slate-700"}})(e.outcome)),children:e.outcome})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(o.A,{className:"w-3 h-3"}),e.duration]})}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:[new Date(e.date).toLocaleDateString()," ",new Date(e.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]},e.id))})]})}),0===a.length&&(0,s.jsxs)("div",{className:"p-12 text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(n.A,{className:"w-8 h-8 text-slate-400"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No calls found"}),(0,s.jsx)("p",{className:"text-slate-600",children:"Try adjusting your search or filter criteria"})]})]})]})})}},6065:(e,t,a)=>{"use strict";a.d(t,{gl:()=>l,kE:()=>s,v3:()=>c,xs:()=>r,zr:()=>i});let s=e=>{let t=30,a=120;e.toLowerCase().includes("voicemail")&&(a=90),(e.toLowerCase().includes("failed to connect")||e.toLowerCase().includes("no answer"))&&(t=15,a=45),e.toLowerCase().includes("meeting booked")&&(t=60,a=120);let s=Math.floor(Math.random()*(a-t+1))+t,l=Math.floor(s/60);return"".concat(l,":").concat(String(s%60).padStart(2,"0"))},l=e=>{let t=[],a=new Date;a.setDate(a.getDate()-60);let s=new Date(a),l=0,n=0;for(;n<e;){l>=2&&(s.setDate(s.getDate()+1),l=0);let e=new Date(s);e.setHours(9+Math.floor(8*Math.random())),e.setMinutes(Math.floor(60*Math.random())),e.setSeconds(Math.floor(60*Math.random())),t.push(e.toISOString()),l++,n++,Math.random()>.7&&(s.setDate(s.getDate()+1),l=0)}return t.sort((e,t)=>new Date(t).getTime()-new Date(e).getTime())},n={totalCalls:349,pickupRate:66.5,connectionRate:78.2,successRate:3.2,averageDuration:75,callOutcomes:[{name:"Voicemail",value:114,percentage:32.7,color:"#3B82F6"},{name:"Customer ended call",value:88,percentage:25.2,color:"#10B981"},{name:"Failed to connect",value:66,percentage:18.9,color:"#F59E0B"},{name:"No answer",value:63,percentage:18.1,color:"#EF4444"},{name:"Callback requested",value:22,percentage:6.3,color:"#8B5CF6"},{name:"Meeting booked",value:18,percentage:5.1,color:"#10B981"},{name:"Not interested",value:12,percentage:3.4,color:"#EF4444"}],timelineData:[{date:"2024-01-01",calls:23,pickups:15,meetings:1},{date:"2024-01-02",calls:31,pickups:21,meetings:1},{date:"2024-01-03",calls:28,pickups:19,meetings:1},{date:"2024-01-04",calls:34,pickups:23,meetings:1},{date:"2024-01-05",calls:29,pickups:20,meetings:1},{date:"2024-01-06",calls:26,pickups:17,meetings:1},{date:"2024-01-07",calls:32,pickups:22,meetings:1}]},o=[{id:"1",contact_name:"Contact Alpha",phone_number:"+44 7XXX XXX001",assistant:"AI Assistant A",outcome:"Meeting booked",timestamp:"2024-01-15T14:30:00Z",duration:"2:04"},{id:"2",contact_name:"Contact Beta",phone_number:"+44 7XXX XXX002",assistant:"AI Assistant B",outcome:"Callback requested",timestamp:"2024-01-15T14:25:00Z",duration:"1:42"},{id:"3",contact_name:"Contact Gamma",phone_number:"+44 7XXX XXX003",assistant:"AI Assistant A",outcome:"Voicemail",timestamp:"2024-01-15T14:20:00Z",duration:"0:48"},{id:"4",contact_name:"Contact Delta",phone_number:"+44 7XXX XXX004",assistant:"AI Assistant C",outcome:"Not interested",timestamp:"2024-01-15T14:15:00Z",duration:"1:15"},{id:"5",contact_name:"Contact Echo",phone_number:"+44 7XXX XXX005",assistant:"AI Assistant B",outcome:"Customer ended call",timestamp:"2024-01-15T14:10:00Z",duration:"1:22"},{id:"6",contact_name:"Contact Foxtrot",phone_number:"+44 7XXX XXX006",assistant:"AI Assistant A",outcome:"Failed to connect",timestamp:"2024-01-15T14:05:00Z",duration:"0:32"},{id:"7",contact_name:"Contact Golf",phone_number:"+44 7XXX XXX007",assistant:"AI Assistant C",outcome:"Meeting booked",timestamp:"2024-01-15T14:00:00Z",duration:"1:58"},{id:"8",contact_name:"Contact Hotel",phone_number:"+44 7XXX XXX008",assistant:"AI Assistant B",outcome:"Callback requested",timestamp:"2024-01-15T13:55:00Z",duration:"1:05"}],r=e=>{let t=e.timelineData.reduce((e,t)=>e+t.meetings,0);return{totalMeetings:t,weeklyChange:{calls:"+12%",successRate:"+0.2%",pickupRate:"+8.3%",connectionRate:"+3.1%",averageDuration:"+5s"},dailyAverage:Math.round(e.totalCalls/7),conversionRate:(t/e.totalCalls*100).toFixed(1)}},c=()=>n,i=e=>e?o.slice(0,e):o},9435:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}},e=>{e.O(0,[367,333,636,593,792],()=>e(e.s=1540)),_N_E=e.O()}]);